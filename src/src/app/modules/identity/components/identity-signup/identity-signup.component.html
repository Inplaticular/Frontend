<form [formGroup]="formModel" #form='ngForm' autocomplete="off" (submit)="onSubmit()">
  <h2>Sign Up</h2>
  <div class="form-group required">
    <input id="usernameInput" class="form-control my-3" formControlName="username" placeholder="Username">
    <label id="usernameInputRequiredError" class="text-danger" *ngIf="formModel.get('username')?.touched && formModel.get('username')?.errors?.['required']">This field is mandatory.</label>
  </div>
  <div class="form-group required">
    <input id="emailInput" class="form-control my-3" formControlName="email" placeholder="Email">
    <label id="emailInputRequiredError" class="text-danger" *ngIf="formModel.get('email')?.touched && formModel.get('email')?.errors?.['required']">This field is mandatory.</label>
    <label id="emailInputEmailError" class="text-danger" *ngIf="formModel.get('email')?.touched && formModel.get('email')?.errors?.['email']">Invalid email address.</label>
  </div>
  <div formGroupName="passwords">
    <div class="form-group required">
      <input id="passwordInput" type="password" class="form-control my-3" formControlName="password" placeholder="Password">
      <label id="passwordInputRequiredError" class="text-danger" *ngIf="formModel.get('passwords.password')?.touched && formModel.get('passwords.password')?.errors?.['required']">This field is mandatory.</label>
      <label id="passwordInputMinLengthError" class="text-danger" *ngIf="formModel.get('passwords.password')?.touched && formModel.get('passwords.password')?.errors?.['minlength']">Minimum 6 characters required.</label>
      <label id="passwordInputPatternError" class="text-danger" *ngIf="formModel.get('passwords.password')?.touched && formModel.get('passwords.password')?.errors?.['pattern']">Minimum one uppercase, one lowercase, one number and one non alphanumeric character</label>
    </div>
    <div class="form-group required">
      <input id="confirmPasswordInput" type="password" class="form-control my-3" formControlName="confirmPassword"  placeholder="Confirm Password">
      <label id="confirmPasswordInputRequiredError" class="text-danger" *ngIf="formModel.get('passwords.confirmPassword')?.touched && formModel.get('passwords.confirmPassword')?.errors?.['required']">This field is mandatory.</label>
      <label id="confirmPasswordInputMismatchError" class="text-danger" *ngIf="formModel.get('passwords.confirmPassword')?.touched && formModel.get('passwords.confirmPassword')?.errors?.['passwordMismatch']">Confirm Password does not match.</label>
    </div>
  </div>
  <input id="signUpFormSubmitButton" class="btn btn-primary my-2" type="submit" value="Sign Up" [disabled]="!formModel.valid"/>
  <p class="m-0">Already have an account? <a id="loginLink" href="" routerLink="/identity/login">Login</a></p>
</form>